<app-hero></app-hero>

<div class="container mb-5">
	<!-- Filters -->
	<div class="filters-section" id="filtersSection">
		<div class="row g-3">
			<div class="col-12 col-md-6">
				<div class="search-box">
					<input type="text" class="form-control" placeholder="Buscar películas..." [(ngModel)]="search" (ngModelChange)="onSearch()">
					<i class="fas fa-search"></i>
				</div>
			</div>
			<div class="col-6 col-md-3">
				<select class="form-select filter-select" [(ngModel)]="genre" (change)="onGenreChange()">
					<option value="">Todos los géneros</option>
					<option value="accion">Acción</option>
					<option value="drama">Drama</option>
					<option value="comedia">Comedia</option>
					<option value="ciencia-ficcion">Ciencia Ficción</option>
					<option value="terror">Terror</option>
				</select>
			</div>
			<div class="col-6 col-md-3">
				<select class="form-select filter-select" [(ngModel)]="year" (change)="onYearChange()">
					<option value="">Todos los años</option>
					<option value="2024">2024</option>
					<option value="2023">2023</option>
					<option value="2022">2022</option>
					<option value="2021">2021</option>
				</select>
			</div>
		</div>
	</div>

	<!-- Movies grid -->
	<div class="row g-4" id="moviesGrid">
		<div class="col-12 col-sm-6 col-md-4 col-lg-3" *ngFor="let movie of filteredMovies; let i = index" [style.animationDelay]="i * 0.1 + 's'">
			<app-movie-card [movie]="movie" (select)="showMovieDetail($event)" (favoriteToggled)="applyFilters()"></app-movie-card>
		</div>
	</div>

	<app-movie-detail *ngIf="selectedMovie" [movie]="selectedMovie" (close)="closeDetail()"></app-movie-detail>
</div>
